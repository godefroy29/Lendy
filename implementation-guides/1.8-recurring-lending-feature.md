# 1.8 Recurring Lending Feature

**Priority:** Low  
**Category:** New Functionality  
**Status:** ❌ Not Implemented  
**Difficulty:** 8 ⭐⭐⭐⭐⭐⭐⭐⭐  
**Modification Location:** Flutter Code + Supabase

## Description

Track items that are lent repeatedly to the same borrower.

## Implementation Details

- Add `isRecurring` boolean field to `Item` entity
- Add `lendingCount` integer field to track number of times lent
- When marking as returned, show option to "Lend Again" if recurring
- "Lend Again" creates new item with same borrower, updates lending count
- Show lending history in item detail (optional)
- Add recurring items filter in list screen

## Files to Modify

- **Modify:** `lendy/lib/domain/entities/item.dart` (add fields)
- **Modify:** `lendy/lib/presentation/screens/item_detail_screen.dart` (add lend again button)
- **Modify:** `lendy/lib/presentation/screens/create_item_screen.dart` (add recurring checkbox)

## Dependencies

Database migration required

## Implementation Steps

1. **Database Migration:** Add `is_recurring` (boolean) and `lending_count` (integer) columns to items table
2. Update `Item` entity with new fields
3. Add recurring checkbox to `CreateItemScreen`
4. When marking item as returned, show "Lend Again" option if `isRecurring` is true
5. Implement "Lend Again" functionality (create new item, increment count)
6. Add recurring filter to `ItemsListScreen`
7. Optionally display lending history in item detail
